# 第10节：正则表达式

### 一、正则表达式概述

* 用于匹配字符串，比如验证邮箱格式
* 替换文章中的某些特定内容

正则表达式对象RegExp是JavaScript中的内置对象，

```js
//常规创建数组和正则表达式
var arr = new Array();
var reg = new RegExp();
//简写方式创建数组和正则表达式
var arr = [1,2,3];
var reg = /123/;
```

### 二、正则表达式语法

用于匹配字符串，正则表达式就是一种规则，如果符合，就会匹配

```js
var reg = /123/;
var str = "012345";
console.log(reg.test(str)); // test方法测试字符串是否匹配成功，若成功则返回true，若不成功匹配则返回false。这里正则表达式规则是字符串中出现123就算符合规则匹配成功，因此返回true。
console.log(reg.exec(str)); // exec方法返回一个数组，第一个元素是匹配的内容，即“123”，第二个元素为index，即第几个字母开始匹配，第三个元素为input，即匹配的字符串，这里是“012345”，注意匹配第一个，其他的匹配情况没有展示
```

若值匹配字符串“123”，不能出现其他字符

```js
var reg = /^123$/; // ^表示开头，$表示结尾，两个符号之间是匹配的内容
console.log(reg.test(str)); // 返回false
```

#### 1. 设定匹配范围

通过[] 设定匹配的范围，代码如下：

```js
var reg = /[123]/;  //匹配123中的任意一个字符
var str = "02459";
var str1 = "01245";
console.log(reg.exec(str)); //匹配到2
console.log(reg.exec(str1))  //只匹配到1
```

#### 2. 匹配数字

[0-9]来设定匹配数字

```js
var reg = /[0-9]/; //匹配一位数字
var str = "0142343";
console.log(reg.exec(str)); //匹配到0，注意只匹配一位
```

#### 3. 匹配字母

[a-z]来设定匹配字母

```js
var reg = /[a-z]/; //匹配一位字母
var str = '014234afv';
console.log(reg.exec(str)); //匹配到a
```

#### 4. 匹配多位

+来指定匹配多位

```js
var reg = /[a-z]+/; //匹配多位字母
var str = "010343asfdav";
console.log(reg.exec(str)); //匹配多位，所以asfdav都成功匹配
```

#### 5. 匹配指定位数

{}来指定匹配位数

```js
var reg = /[a-z]{3}/; //匹配三位字母
var str = "0134agcd";
console.log(reg.exec(str));//匹配到三位 agc
```

#### 6. 邮箱验证

定义邮箱格式：

* 5-12位数字字母下划线开头，即[a-zA-Z0-9\_]{5,12}
* 后面接@ 即\@
* 后面接2-5位数字和字母 即[a-zA-Z0-9]{2,5}
* 后面接. 即\.
* 后面接com 即com

```js
var reg = /^[a-zA-Z0-9\_]{5,12}\@[a-zA-Z0-9]{2,5}\.com$/;
var str = "test123@qq.com"
console.log(reg.exec(str));
```

注意很多特殊符号到正则表达式都有特殊含义，为了取消特殊含义，需要在特殊符号之前加上\来转义

