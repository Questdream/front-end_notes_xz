# 第20节：异步编程

### 一、同步与异步

异步：可以多条任务线去执行程序，一个任务卡顿不影响其他任务。

同步：只有一条任务线去顺序执行程序，若一个任务卡顿其后的任务将不能执行

### 二、回调函数

将函数作为一个参数传递给另一个函数，即为回调函数。

```js
function fun(fn){//fn 既作为参数，又作为函数，这就是回调函数
    fn();
}

fun(()=>{
    console.log("我是回调函数")
})
```

### 三、promise对象

在ES2015中加入promise对象，用于解决异步问题。

创建 promise对象的语法如下：

```js
// 创建getData为Promise对象
let getData = new Promise((resolve)=>{
    let data = "string data";
    resolve(data);
})
```

Promise构造函数的参数是一个函数，

而此函数的形参resolve同样也是一个函数，（即回调函数）

调用resolve可以将数据从Promise对象中传递出来。

### 四、async函数

async函数与Promise对象结合使用，可以优雅处理异步问题。

声明async函数的语法如下：

```js
async function fun(){
    // async函数内部可以使用await关键字
}
```

在Promise对象中，我们知道用resolve函数将数据传递出来，然后可以用async函数中的await关键字接收数据。

```js
let getData = new Promise((resolve)=>{
    let data = "string data";
    resolve(data);  // resolve 的作用是把异步数据结果传递出来
})

async function showData(){
    let data = await getData; // 使用await可以拿到Promise中通过resolve获得的数据
    console.log(data)
}
showData();
```

注意：await关键字必须在async函数内部使用。