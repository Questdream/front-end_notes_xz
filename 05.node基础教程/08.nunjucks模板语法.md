# 第08节：nunjucks模板语法

### 一、概述

前面通过render方法不仅可以指定渲染的模板，还可以向模板传递数据。

这里继续讲解nunjucks，还可以获得更为丰富的网页效果。

[nunjucks中文文档](https://nunjucks.bootcss.com/)

### 二、循环语句

比如某个网站显示一个列表，有多条数据，而这个显示的数据条数取决于数据库中的数据量。

所以页面的内容应该根据后台数据动态显示。

模板语法有开始有结束，形式如下

```js
`{% 开始语句 %}`

....

`{% end..%}`
```

```js
// 循环语句模板示例
//后台数据为
{“fruits":["香蕉","苹果","鸭梨"]}   //render方法可以传递数据

//前端模板语法
<ul>
    {% for fruit in fruits %}
    <li>{{fruit}}</li>
	{% endfor %}
</ul>
 
```

### 二、分支语句

页面的某些内容由当前用户状态决定，这样的功能由分支语句实现

```js
//分支语句模板语法
//后台数据
{"isLogin":true}

//前端页面
{% if isLogin %}
	<p>欢迎来到我的网站</p>
{% else %}
	<p>请登录</p>
{% endif %}
```

### 三、模板继承

同一个网站某些部位在每个网页都会存在，这就是每个网页的公共部分，使用模板继承不用为每个网页都写这个公共部分。

```js
// 模板layout.html，即含有公共部分
<a href="/">首页</a>
<a href="/images">图片</a>
{% block content %}{% endblock %}   //这部分就是每个网页不同的区块

// home.html
{% extends "./views/layout.html" %} //需要引用公共部分的模板
// 然后写其他不同部分代码
{% block content %}
<h1>首页</h1>
{% endblock %}

// images.html
{% extends "./views/layout.html" %} //需要引用公共部分的模板
// 然后写其他不同部分代码
{% block content %}
<h1>图片</h1>
{% endblock %}
```

### 四、include

同一个网站，某些网页可能会有相同的组件，有的网页没有，这时候可以使用include来引入到网页中

```js
{% extends "./views/layout.html" %} //需要引用公共部分的模板
// 然后写其他不同部分代码
{% block content %}
<h1>首页</h1>
{% include "./views/footer.html" %} //直接引入需要页面的组件
{% endblock %}

```

