# 第03节：ajax第三方模块

### 一、概述

上节讲了如果封装一个简易的ajax方法，实际项目中，并不需要自己去封装，已经有了很多成熟的ajax第三方模块，直接使用即可，比如常见的ajax第三方模块-Axios。

### 二、下载并引入Axios

使用npm下载Axios，`npm intall axios`

因为我们要将axios引入到前端页面，所以需要将axios.js文件拷贝到静态文件目录

在node_modules目录中，找到axios>dist>axios.min.js文件，拷贝到public目录中既可以，然后在模块中用script标签来引入此js文件。

### 三、后台程序

仍然是之前的水果列表增删改查接口作为我们的后天程序。

```js
//后台程序
let dataList = ["香蕉","苹果","鸭梨"];//数据

//get 查看
router.get("/fruits", ctx => {
    ctx.body = dataList;
})
//post 添加
router.post("/fruits", ctx => {
    let fruit = ctx.request.body.fruit;
    dataList = push(fruit);
    ctx.body = dataList;
})
// put 修改
router.put("/fruits/:id", ctx => {
    let id = ctx.params.id;
    let fruit = ctx.request.body.fruit;
    dataList.splice(id,1,fruit);
    ctx.body = dataList;
})
//delete 删除
router.delete("/fruits/:id", ctx => {
    let id = ctx.params.id;
    dataList.splice(id,1);
    ctx.body = dataList;
})
```

### 四、axios的常用方法

使用axios实现用户列表的增删改查

```js
//使用axios完成增删改查
// 绑定查询按钮
document.querySelector(".get").onclick = function(){
    axios.get("/fruits").then( res => {
        console.log(res.data)
    })
}
// 绑定添加按钮
document.querySelector(".post").onclick = function(){
    axios.post("/fruits", {
        fruit:"草莓"  //给后台传数据
    }).then( res => {
        console.log(res.data)
    })
}

// 绑定修改按钮
document.querySelector(".put").onclick = function(){
    axios.put("/fruits/1", {//注意这个路径前后台写法不一样
        fruit:"西瓜"  //给后台传数据
    }).then( res => {
        console.log(res.data)
    })
}
// 绑定删除按钮
document.querySelector(".delete").onclick = function(){
    axios.delete("/fruits/0").then( res => {
        console.log(res.data)
    })
}
```

### 五、通过jQuery中的ajax方法实现

我们之前使用jQuery主要是用来操作DOM，其实jQuery也封装了ajax方法。

```js
// 使用jQuery完成增删改查
$(".get").click(function(){
    $.ajax({
        url:"/fruits",
        type:"get"
    }).done(res => {
        console.log(res,"jQuery的ajax方法")
    })
})
```

如果项目基于jQuery开发，则使用jQuery中的ajax方法来替代axios。

若项目并没有使用jQuery，那么使用axios这种轻量级的ajax库会更方便

在实际项目中，axios需要结合表单和表格元素完成数据的操作，并在也没中展示出操作结果。