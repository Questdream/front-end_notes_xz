# 第09节：数据交互

### 知识点回顾

http协议：前端（浏览器）发送请求，服务器给予反应

请求方法：get（查询），post（添加），put（修改），delete（删除）

ajax：不刷新页面与后台交互数据

axios：封装好的ajax模块

koa：基于node的web框架

### 一、概述

基于vue的web项目显示的所有服务端数据都是通过ajax获取的，官方推荐使用axios作为ajax库

### 二、安装axios

在vue项目中使用`npm install axios --save`

在要引用axios的页面引用`import axios from "axios"`

### 三、发送请求

如果希望页面加载时便显示数据，可以直接将axios方法写在或者封装在created函数中

```js
created(){
    axios.get("/data").then(res => {
        this.goodsList = res.data;
    })
}
```

### 三、封装api模块

#### 1.配置url

```js
const service = axios.create({
    baseURL:请求的地址,
    timeout:5000 //访问超时的时间限制
})
```

抛出（如果是新起的js文件）：`export default service`

#### 2.写接口的js文件

配置url和axios引入，配置各个接口。

get请求：

```js
export function testGet(parameter){
    return request({
        method:'get',
        url:"具体接口"，
        params:{
        //json格式，如果有就写，没有就去掉
    }
    })
}
```

#### 3.使用

引入：import {要引入的方法的名字} from business.js

使用：

```
//放在当前页面使用的方法
testGet().then(res => {//成功进入这个}).catch(err => {//报错进这个})
```





