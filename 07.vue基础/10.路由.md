# 第10节：路由

### 一、概述

一个web应用应该有很多页面，通过路由，可以让应用在多个页面间跳转

（严格的说vue是单页面应用，所以跳转的不是其他页面，而是其他组件）

### 二、创建包括路由模块的vue项目

首先创建项目，在cmd中输入`vue create RouterProject`

然后选择第三项Manually select features来选择自定义安装路由模块

在Router选项出按住空格键表示选择安装后回车一直回车即可完成项目创建。

和之前项目主要区别是src目录中多了router和views目录。

* views目录包括两个视图组件，用来展示两个菜单跳转的不同页面。
* router目录下的index.js文件是路由配置文件，可以在其中设置更多的路由跳转

### 三、配置router目录下的index.js文件

页面跳转使用router-link标签汇总的to属性进行跳转,和a标签类似：

```js
<router-link to="/"></router-link>
```

首先在views文件目录中添加两个子路由组件，即Login.vue和Video.vue。

然后在router文件夹中的index.js文件进行路由配置，使得to属性等中的路径能跳转到正确的组件

```js
//注意页面组件一般在views文件中，结构组件等小组件可以放在components中
import Login from "../src/views/Login.vue"
import Video form "../src/views/Video.vue"

routes:[
    {
        path:"/login",
        name:"login",
        component:Login
    },
    {
        path:"/video",
        name:"video",
        component:Video
    }
]
```

### 四、编程式导航

除了使用<router-link>创建a标签来定义导航链接，还可以借助router实例的方法，来实现跳转。即`router.push()`

其实当点击<router-link>，这个方法就在内部调用

### 五、导航守卫

可以阻止页面显示，从而可以实现在页面没登录时不能访问其他页面除了登录页,写在路由配置文件中。

```js
// 导航守卫
router.beforeEach((to,from,next) => {
  if(to.path !== "/login"){
    if(localStorage.getItem("usr")){
      next();
    }else{
      next("/login");
    }
  }else{
    next();
  }
})
```

