# 第02节： 控制器与路由

### 一、概述

**MVC概述:** 

是模型（model）--视图（view）--控制器（controller）的缩写

是一种软件设计规范，主要作用就是逻辑拆分：

1. 视图为用户展示数据
2. 控制器用来处理用户输入
3. 模型用于处理数据

**控制器概述：**

负责解析用户的输入，处理后返回相应的结果。

1. 直接响应数据或者渲染模板。
2. 接受用户的输入。
3. 与路由建立对应关系

`this.ctx`可以获取到当前请求的上下文对象，通过此对象可以便捷获取到请求与响应的属性与方法。

路由：主要用来描述请求URL和具体承担执行动作的Controller的对应关系。

### 二、定义控制器与联系路由

配置app/controller目录下一个fruits.js文件，此文件就是一个控制器

```js
const Controller = require("egg").Controller;
class FruitsController extends Controller {
    async index(){
        this.ctx.body = "我是一个水果列表页面"
    }
}
module.exports = FruitsController;
```

配置app/router.js里面定义URL路由规则来联系到这个控制器：

```js
'use strict';
module.exports = app => {
    const {router, controller} = app;
    router.get("/", controller.home.index);
    router.get("/fruits", controller.fruits.index);
}
```



